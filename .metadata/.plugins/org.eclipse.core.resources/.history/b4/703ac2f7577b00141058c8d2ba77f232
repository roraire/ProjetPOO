package Vue;

import java.awt.Color;
import java.awt.Graphics;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;

import javax.swing.JPanel;

import Model.Grille;

public class JeuPanel extends JPanel  {
	
	Grille grille=new Grille();
	
	int x,y;
	
	public JeuPanel(Grille g){
		this.grille=g;
		addMouseListener(new Mouse());
	}
	
	public void updateDisplay(){
		repaint();
   	}
	
	
	
	public void paintComponent(Graphics g) {
		super.paintComponent(g);
	    
		for(int i=0;i<=10;i++){
		g.drawLine(20, 20+i*30, 320, 20+i*30);
		}
		for(int i=0;i<=10;i++){
			g.drawLine(20+i*30, 20, 20+i*30, 20+300);
			}
		
		/*******************************************************************/
		for(int i=0; i<10; i++){
			for(int j=0; j<10; j++){
			if(grille.getCaseGrille(i, j).isOccupe())
				
					g.fillRect(20+j*30, 20+i*30, 30, 30);
			
			}
		}
		/*******************************************************************/
		g.setColor(Color.RED);
		g.fillRect(20+y*30,20+x*30 , 30, 30);
		
	
	
	}
	
	public class Mouse extends MouseAdapter {

		
		
		public Mouse(){
		}
		
		
		@Override
		public void mouseClicked(MouseEvent e) {
			super.mouseClicked(e);
			int xCord =e.getX();
			int yCord=e.getY();
			this.getCase(xCord, yCord);
			
			repaint();
		}

		public void getCase(int xCord,int yCord){
			
			if(xCord>19 && xCord<321 && yCord>19 && yCord<321){
				
					
						for(int i=0;i<=10;i++){
						if(xCord<20+(i+1)*30 && xCord>20+i*30 )  {
						y=i;
						System.out.println("case i="+y);
						}
						}
						
						for(int j=0;j<=10;j++){
						if(yCord<20+(j+1)*30 && yCord>20+j*30){
						x=j;
						System.out.println("case j="+x);
						}
						}
						
					}
					
			}
	
	}
}


